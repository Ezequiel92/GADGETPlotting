<div align="center">
    <h1>ğŸš¨ DEPRECATED ğŸš¨</h1>
</div>

This package is no longer under development, it will only get updates for its dependecies. Use [GadgetInspector](https://github.com/Ezequiel92/GadgetInspector) instead.

<div align="center">
    <h1>ğŸŒŒ GADGET Plotting</h1>
</div>

<p align="center">
    <a href="https://github1s.com/Ezequiel92/GADGETPlotting"><img src="http://forthebadge.com/images/badges/built-with-science.svg"></a>
    <a href="https://julialang.org"><img src="https://forthebadge.com/images/badges/made-with-julia.svg"></a>
</p>

<p align="center">
    <a href="https://codecov.io/github/Ezequiel92/GADGETPlotting?branch=main"><img src="https://img.shields.io/codecov/c/github/Ezequiel92/GADGETPlotting?style=flat&logo=Codecov&labelColor=2B2D2F"></a>
    <a href="https://github.com/Ezequiel92/GADGETPlotting/actions"><img src="https://img.shields.io/github/workflow/status/Ezequiel92/GADGETPlotting/Continuous%20integration?style=flat&logo=GitHub&labelColor=2B2D2F"></a>
    <a href="https://github.com/Ezequiel92/GADGETPlotting/blob/main/LICENSE"><img src="https://img.shields.io/github/license/Ezequiel92/GADGETPlotting?style=flat&logo=GNU&labelColor=2B2D2F"></a>
    <a href="https://Ezequiel92.github.io/GADGETPlotting/dev"><img src="https://img.shields.io/badge/docs-dev-blue.svg?style=flat&logo=GitBook&labelColor=2B2D2F"></a>
</p>

Julia module for creating plots, GIFs, and videos from the data produced by Gadget2/3/4 simulations.

There are more advanced tools to analyze/plot the data generated by Gadget2/3/4 (you can see some in the [References](https://github.com/Ezequiel92/GADGETPlotting#-references) section), but this module was written, not only as a basic plotting tool, but as an exercise to learn [Julia](https://julialang.org/) and software development in general (testing, documentation, version control, etc.).

## âš™ï¸ Characteristics

- This only works with snapshots in the binary output format of Gadget2/3/4 (option `SnapFormat = 2`).
- This is a script inside a module, not a package. Only five global constants and no data structures are defined.
- Two small testing data sets are provided in `example/example_data/`, one from an isolated simulation and the other from a cosmological one.
- The script `example/run_examples.jl` shows how to import the main module, gives examples for every function, and provides a sanity check, as it should run without errors.
- The dependencies are given by the `Project.toml` files.

## ğŸ–¥ï¸ Functions

There are four tiers of functions:

- Auxiliary functions (`src/auxiliary.jl`): These are only for internal use. All but `make_video` are pure functions that do soma data processing. Some of these are exported for testing purposes.
- Data acquisition functions (`src/data_acquisition.jl`): These are only for internal use. They take the location of the data files, apply some transformation (e.g. unit conversions) and return the data inside a familiar data structure.
- Plotting functions (`src/plotting.jl`): These are exported, but I do not recommend using them as is. These are pure functions that take data in the format outputted by the data acquisition functions and return plot objects. They do all the data processing necessary to create the plots, except unit conversion. They will plot using the units selected when the data acquisition functions were called.
- Pipeline functions (`src/pipelines.jl`): These are exported. These functions run a whole pipeline, from raw data to the final plot. They take the location of the snapshot files with some configuration parameters, and as a result, produce a series of plots/GIFs/videos. By default, some of these functions may generate a large number of images (but can be configured to do less), and they may take a long time to run.

## ğŸ“˜ Examples

Refer to `examples/` for how to use the functions. Note that the scripts there expect the simple file structure of this repo, namely:

    .
    â”œâ”€â”€ src
    â”‚    â”œâ”€â”€ GADGETPlotting.jl 
    â”‚    â””â”€â”€ ...
    â”œâ”€â”€ example  
    â”‚    â”œâ”€â”€ example_data
    â”‚    â”‚    â””â”€â”€ ...
    â”‚    â”œâ”€â”€ run_examples.jl
    â”‚    â””â”€â”€ ...
    â””â”€â”€ ...
More examples can be found in the repository [plotting_scripts](https://github.com/Ezequiel92/plotting_scripts).

## ğŸ”— References

I make extensive use of [Ludwig Boess](https://github.com/LudwigBoess/) packages to read snapshots, manipulate units and apply kernels to the data.

### Official GADGET

[GADGET2](https://wwwmpa.mpa-garching.mpg.de/gadget/)

[GADGET4](https://wwwmpa.mpa-garching.mpg.de/gadget4/)

### Alternative vizualization tools

[Splash](https://splash-viz.readthedocs.io/en/latest/) (in FORTRAN)

[yt](https://yt-project.org/) (in Python)

[pynbody/tangos](https://pynbody.github.io/) (in Python)

[pygad](https://bitbucket.org/broett/pygad/src/master/) (in Python)

## âš ï¸ Warnings

- Some functions use data generated exclusively by my personal version of P-Gadget3, which is not a publicly available code.
- This code is written for my personal use and may break at any moment. So, use it at your own risk.
